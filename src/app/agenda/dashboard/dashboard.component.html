<nav class="navbar navbar-light bg-light sticky-top header-shadow">
    <a class="navbar-brand" href="#">
      <img src="assets/agenda.png" width="30" class="d-inline-block align-top" alt="">
      Agenda App
    </a>
</nav>

<div class="container text-center">
    <div class="row">
        <div class="col">
            <div class="card mt-3 slide-in-fwd-center">
                <div class="card-header">
                  Add new person
                </div>
                <div class="card-body">
                    <h5 class="card-title">Fill in all the information below to add a new person</h5>
                    <form [formGroup]="personForm" (ngSubmit)="handlePerson()">
                        <div class="form-group text-left">
                            <label for="firstName">First Name</label>
                            <input formControlName="firstName" type="text" class="form-control form-control-sm" id="firstName">
                            <ng-container *ngIf="personForm.controls.firstName.invalid && personForm.controls.firstName.touched">
                                <small class="caption text-danger slide-in-fwd-center" *ngIf="personForm.controls.firstName.errors?.required">
                                    First Name is required!
                                </small>
                            </ng-container>
                        </div>
                        <div  class="form-group text-left">
                            <label for="lastName">Last Name</label>
                            <input formControlName="lastName" type="text" class="form-control form-control-sm" id="lastName">
                            <ng-container *ngIf="personForm.controls.lastName.invalid && personForm.controls.lastName.touched">
                                <small class="caption text-danger slide-in-fwd-center" *ngIf="personForm.controls.lastName.errors?.required">
                                    Last Name is required!
                                </small>
                            </ng-container>
                        </div>
                        <div  class="form-group text-left">
                            <label for="age">Age</label>
                            <input formControlName="age" type="number" class="form-control form-control-sm" id="age">
                            <ng-container *ngIf="personForm.controls.age.invalid && personForm.controls.age.touched">
                                <small class="caption text-danger slide-in-fwd-center" *ngIf="personForm.controls.age.errors?.required">
                                  Age is required!
                                </small>
                            </ng-container>
                        </div>
                        <div  class="form-group text-left">
                            <label for="email">Email</label>
                            <input formControlName="email" type="email" class="form-control form-control-sm" id="email" aria-describedby="emailHelp">
                            <small id="emailHelp" class="form-text text-muted text-center">We'll never share your email with anyone else.</small>
                            <ng-container *ngIf="personForm.controls.email.invalid && personForm.controls.email.touched">
                                <small class="caption text-danger slide-in-fwd-center" *ngIf="personForm.controls.email.errors?.required">
                                  Email is required!
                                </small>
                                <small class="caption text-danger slide-in-fwd-center" *ngIf="personForm.controls.email.errors?.pattern">
                                  Email should be the real one!
                                </small>
                            </ng-container>
                        </div>
                        <button type="submit" class="btn btn-primary" [disabled]="!personForm.valid">
                            <span *ngIf="true">Save person</span>
                            <span *ngIf="false" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                            <span *ngIf="false" class="sr-only">Loading...</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <br>
    <div *ngIf="persons?.length < 1" class="row my-5">
        <div class="col">
            <h5 class="slide-in-fwd-center">You don't have people saved in the agenda yet</h5>
        </div>
    </div>
    <div *ngIf="persons?.length >= 1" class="row my-5">
        <div class="col" *ngFor="let person of persons; let i = index">
            <div class="card mx-2 my-2 slide-in-fwd-center">
                <div class="card-header text-right h-56">
                    <button type="button" (click)="deletePerson(i)" class="btn btn-danger btn-sm"><strong>X</strong></button>
                </div>
                <div class="card-body">
                  <h5 class="card-title">{{person.firstName}} {{person.lastName}}</h5>
                  <small class="card-text"><strong>Age</strong>: {{person.age}}</small>
                  <br>
                  <small class="card-text"><strong>Email</strong>: {{person.email}}</small>
                  <!--<button type="button" class="btn btn-primary" (click)="goToDetails(person)">Details</button>>-->
                </div>
            </div>
        </div>
    </div>
</div>

<nav class="navbar navbar-light bg-light footer-shadow place-center fixed-bottom">
    <span>
        Made with <span class="heart">‚ù§</span> using Angular 9
    </span>
</nav>